---
title: "Project 1"
author: Keshav Ramesh & Calista Harris
format: pdf
editor: visual
editor_options: 
  chunk_output_type: console
---

Load require packages
```{r, message=FALSE, warning=FALSE}
library(tidyverse)
```

# Data Processing

## Question 1: Reading in Data 

```{r}
edu01a <- read_csv("EDU01a.csv", show_col_types = FALSE) |>
  select(
    area_name = Area_name, #rename Area_name
    STCOU,
    ends_with("D") #select all columns ending in "D"
  )

#display the first 5 rows
edu01a |> 
  slice(1:5)
```

## Question 2: Pivot Data

```{r}
EDU01_long = edu01a %>%
  pivot_longer(
    cols = ends_with("D"), 
    names_to = "surveyID_full", 
    values_to = "enrollment"
  )

head(EDU01_long, 5)
```
## Question 3: Extracting the year

```{r}
EDU01_long_updated = EDU01_long %>%
  mutate(
    surveyID_year = substr(surveyID_full, 8, 9)
    ) %>%
  mutate(
    year = as.numeric(paste0("19", surveyID_year))
  ) %>%
  mutate(
    surveyID = substr(surveyID_full, 1, 7)
  ) %>%
  select(-surveyID_year)
  
  

head(EDU01_long_updated, 5)
  
```

## Question 4: Identifying County Data

```{r}
county_locations = grep(pattern = ", \\w\\w", EDU01_long_updated$area_name)

EDU01_long_updated_county = EDU01_long_updated[county_locations, ]

class(EDU01_long_updated_county) <- c("County", class(EDU01_long_updated_county))

EDU01_long_updated_non_county = EDU01_long_updated[-county_locations, ]

class(EDU01_long_updated_non_county) <- c("State", class(EDU01_long_updated_non_county))


head(EDU01_long_updated_county, 10)
head(EDU01_long_updated_non_county, 10)


```


























